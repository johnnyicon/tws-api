---
title: "EWrapper Interface Reference"
description: "TWS API Reference - EWrapper Interface Reference"
source: "Interactive Brokers TWS API Documentation"
nav_id: "ewrapper-ref"
order: 14
prev_section: "EReaderSignal Interface Reference"
next_section: "Execution Class Reference"
prev_file: "13_ereadersignal_interface_reference.md"
next_file: "15_execution_class_reference.md"
scraped_at: "2025-08-01T09:13:02.320849"
word_count: 3221
paragraph_count: 8
subsection_count: 1
code_block_count: 0
format: "markdown"
---

# EWrapper Interface Reference

## EWrapper Interface Reference

This interface’s methods are used by the TWS/Gateway to communicate with the API client. Every API client application needs to implement this interface in order to handle all the events generated by the TWS/Gateway. Almost every EClientSocket method call will result in at least one event delivered here.

This interface’s methods are used by the TWS/Gateway to communicate with the API client. Every API client application needs to implement this interface in order to handle all the events generated by the TWS/Gateway. Almost every EClientSocket method call will result in at least one event delivered here.

### Public Member Functions

NameTypeDescriptionerror (Exception e)voidHandles errors generated within the API itself. If an exception is thrown within the API code it will be notified here. Possible cases include errors while reading the information from the socket or even mishandling at EWrapper’s implementing class. More…error (string str)voidNoneerror (int idvoidint errorCodecurrentTime (long time)voidTWS’s current time. TWS is synchronized with the server (not local computer) using NTP and this function will receive the current time in TWS. More…tickPrice (int tickerIdvoidint fieldtickSize (int tickerIdvoidint fieldtickString (int tickerIdvoidint fieldtickGeneric (int tickerIdvoidint fieldtickEFP (int tickerIdvoidint tickTypedeltaNeutralValidation (int reqIdvoidDeltaNeutralContract deltaNeutralContract)the server sends a deltaNeutralValidation() message with the DeltaNeutralContract structure. If the delta and price fields are empty in the original requestUpon accepting a Delta-Neutral DN RFQ(request for quote)the confirmation will contain the current values from the server. These values are locked when RFQ is processed and remain locked until the RFQ is cancelled.NoneMore…NonetickOptionComputation (int tickerIdvoidint fieldtickSnapshotEnd (int tickerId)voidWhen requesting market data snapshotsnextValidId (int orderId)voidReceives next valid order id. Will be invoked automatically upon successfull API client connectionmanagedAccounts (string accountsList)voidReceives a comma-separated string with the managed account ids. Occurs automatically on initial API client connection. More…connectionClosed ()voidCallback to indicate the API connection has closed. Following a API  TWS broken socket connectionaccountSummary (int reqIdvoidstring accountaccountSummaryEnd (int reqId)voidnotifies when all the accounts’ information has ben received. Requires TWS 967+ to receive accountSummaryEnd in linked account structures. More…bondContractDetails (int reqIdvoidContractDetails contract)updateAccountValue (string keyvoidstring valueupdatePortfolio (Contract contractvoiddecimal positionupdateAccountTime (string timestamp)voidReceives the last time on which the account was updated. More…accountDownloadEnd (string account)voidNotifies when all the account’s information has finished. More…orderStatus (int orderIdvoidstring statusopenOrder (int orderIdvoidContract contractopenOrderEnd ()voidNotifies the end of the open orders’ reception. More…contractDetails (int reqIdvoidContractDetails contractDetails)contractDetailsEnd (int reqId)voidAfter all contracts matching the request were returnedexecDetails (int reqIdvoidContract contractexecDetailsEnd (int reqId)voidindicates the end of the Execution reception. More…commissionReport (CommissionReport commissionReport)voidprovides the CommissionReport of an Execution More…fundamentalData (int reqIdvoidstring data)historicalData (int reqIdvoidBar bar)historicalDataUpdate (int reqIdvoidBar bar)historicalDataEnd (int reqIdvoidstring startmarketDataType (int reqIdvoidint marketDataType)updateMktDepth (int tickerIdvoidint positionupdateMktDepthL2 (int tickerIdvoidint positionupdateNewsBulletin (int msgIdvoidint msgTypeposition (string accountvoidContract contractpositionEnd ()voidIndicates all the positions have been transmitted. More…realtimeBar (int reqIdvoidlong datescannerParameters (string xml)voidprovides the xml-formatted parameters available from TWS market scanners (not all available in API). More…scannerData (int reqIdvoidint rankscannerDataEnd (int reqId)voidIndicates the scanner data reception has terminated. More…receiveFA (int faDataTypevoidstring faXmlData)verifyMessageAPI (string apiData)voidNot generally available.verifyCompleted (bool isSuccessfulvoidstring errorText)verifyAndAuthMessageAPI (string apiDatavoidstring xyzChallenge)verifyAndAuthCompleted (bool isSuccessfulvoidstring errorText)displayGroupList (int reqIdvoidstring groups)displayGroupUpdated (int reqIdvoidstring contractInfo)connectAck ()voidcallback initially acknowledging connection attempt connection handshake not complete until nextValidID is receivedpositionMulti (int requestIdvoidstring accountpositionMultiEnd (int requestId)voidIndicates all the positions have been transmitted. More…accountUpdateMulti (int requestIdvoidstring accountaccountUpdateMultiEnd (int requestId)voidIndicates all the account updates have been transmitted. More…securityDefinitionOptionParameter (int reqIdvoidstring exchangesecurityDefinitionOptionParameterEnd (int reqId)voidcalled when all callbacks to securityDefinitionOptionParameter are complete More…softDollarTiers (int reqIdvoidSoftDollarTier[] tiers)familyCodes (FamilyCode[] familyCodes)voidreturns array of family codes More…symbolSamples (int reqIdvoidContractDescription[] contractDescriptions)mktDepthExchanges (DepthMktDataDescription[] depthMktDataDescriptions)voidcalled when receives Depth Market Data Descriptions More…tickNews (int tickerIdvoidlong timeStampsmartComponents (int reqIdvoidDictionary< inttickReqParams (int tickerIdvoiddouble minTicknewsProviders (NewsProvider[] newsProviders)voidreturns array of subscribed API news providers for this user More…newsArticle (int requestIdvoidint articleTypehistoricalNews (int requestIdvoidstring timehistoricalNewsEnd (int requestIdvoidbool hasMore)headTimestamp (int reqIdvoidstring headTimestamp)Nonereturns beginning of data for contract for specified data typeNoneNoneMore…NonehistogramData (int reqIdvoidHistogramEntry[] data)rerouteMktDataReq (int reqIdvoidint conIdNonereturns conId and exchange for CFD market data request re-routeNoneNoneMore…NonererouteMktDepthReq (int reqIdvoidint conIdmarketRule (int marketRuleIdvoidPriceIncrement[] priceIncrements)pnl (int reqIdvoiddouble dailyPnLpnlSingle (int reqIdvoiddecimal poshistoricalTicks (int reqIdvoidHistoricalTick[] tickshistoricalTicksBidAsk (int reqIdvoidHistoricalTickBidAsk[] tickshistoricalTicksLast (int reqIdvoidHistoricalTickLast[] tickstickByTickAllLast (int reqIdvoidint tickTypetickByTickBidAsk (int reqIdvoidlong timetickByTickMidPoint (int reqIdvoidlong timeorderBound (long orderIdvoidint apiClientIdcompletedOrder (Contract contractvoidOrder ordercompletedOrdersEnd ()voidNotifies the end of the completed orders’ reception. More…replaceFAEnd (int reqIdvoidstring text)wshMetaData (int reqIdvoidstring dataJson)wshEventData (int reqIdvoidstring dataJson)historicalSchedule (int reqIdvoidstring startDateTimeuserInfo (int reqIdvoidstring whiteBrandingId)

| Name | Type | Description |
| --- | --- | --- |
| error (Exception e) | void | Handles errors generated within the API itself. If an exception is thrown within the API code it will be notified here. Possible cases include errors while reading the information from the socket or even mishandling at EWrapper’s implementing class. More… |
| error (string str) | void | None |
| error (int id | void | int errorCode |
| currentTime (long time) | void | TWS’s current time. TWS is synchronized with the server (not local computer) using NTP and this function will receive the current time in TWS. More… |
| tickPrice (int tickerId | void | int field |
| tickSize (int tickerId | void | int field |
| tickString (int tickerId | void | int field |
| tickGeneric (int tickerId | void | int field |
| tickEFP (int tickerId | void | int tickType |
| deltaNeutralValidation (int reqId | void | DeltaNeutralContract deltaNeutralContract) |
| the server sends a deltaNeutralValidation() message with the DeltaNeutralContract structure. If the delta and price fields are empty in the original request | Upon accepting a Delta-Neutral DN RFQ(request for quote) | the confirmation will contain the current values from the server. These values are locked when RFQ is processed and remain locked until the RFQ is cancelled. |
| None | More… | None |
| tickOptionComputation (int tickerId | void | int field |
| tickSnapshotEnd (int tickerId) | void | When requesting market data snapshots |
| nextValidId (int orderId) | void | Receives next valid order id. Will be invoked automatically upon successfull API client connection |
| managedAccounts (string accountsList) | void | Receives a comma-separated string with the managed account ids. Occurs automatically on initial API client connection. More… |
| connectionClosed () | void | Callback to indicate the API connection has closed. Following a API TWS broken socket connection |
| accountSummary (int reqId | void | string account |
| accountSummaryEnd (int reqId) | void | notifies when all the accounts’ information has ben received. Requires TWS 967+ to receive accountSummaryEnd in linked account structures. More… |
| bondContractDetails (int reqId | void | ContractDetails contract) |
| updateAccountValue (string key | void | string value |
| updatePortfolio (Contract contract | void | decimal position |
| updateAccountTime (string timestamp) | void | Receives the last time on which the account was updated. More… |
| accountDownloadEnd (string account) | void | Notifies when all the account’s information has finished. More… |
| orderStatus (int orderId | void | string status |
| openOrder (int orderId | void | Contract contract |
| openOrderEnd () | void | Notifies the end of the open orders’ reception. More… |
| contractDetails (int reqId | void | ContractDetails contractDetails) |
| contractDetailsEnd (int reqId) | void | After all contracts matching the request were returned |
| execDetails (int reqId | void | Contract contract |
| execDetailsEnd (int reqId) | void | indicates the end of the Execution reception. More… |
| commissionReport (CommissionReport commissionReport) | void | provides the CommissionReport of an Execution More… |
| fundamentalData (int reqId | void | string data) |
| historicalData (int reqId | void | Bar bar) |
| historicalDataUpdate (int reqId | void | Bar bar) |
| historicalDataEnd (int reqId | void | string start |
| marketDataType (int reqId | void | int marketDataType) |
| updateMktDepth (int tickerId | void | int position |
| updateMktDepthL2 (int tickerId | void | int position |
| updateNewsBulletin (int msgId | void | int msgType |
| position (string account | void | Contract contract |
| positionEnd () | void | Indicates all the positions have been transmitted. More… |
| realtimeBar (int reqId | void | long date |
| scannerParameters (string xml) | void | provides the xml-formatted parameters available from TWS market scanners (not all available in API). More… |
| scannerData (int reqId | void | int rank |
| scannerDataEnd (int reqId) | void | Indicates the scanner data reception has terminated. More… |
| receiveFA (int faDataType | void | string faXmlData) |
| verifyMessageAPI (string apiData) | void | Not generally available. |
| verifyCompleted (bool isSuccessful | void | string errorText) |
| verifyAndAuthMessageAPI (string apiData | void | string xyzChallenge) |
| verifyAndAuthCompleted (bool isSuccessful | void | string errorText) |
| displayGroupList (int reqId | void | string groups) |
| displayGroupUpdated (int reqId | void | string contractInfo) |
| connectAck () | void | callback initially acknowledging connection attempt connection handshake not complete until nextValidID is received |
| positionMulti (int requestId | void | string account |
| positionMultiEnd (int requestId) | void | Indicates all the positions have been transmitted. More… |
| accountUpdateMulti (int requestId | void | string account |
| accountUpdateMultiEnd (int requestId) | void | Indicates all the account updates have been transmitted. More… |
| securityDefinitionOptionParameter (int reqId | void | string exchange |
| securityDefinitionOptionParameterEnd (int reqId) | void | called when all callbacks to securityDefinitionOptionParameter are complete More… |
| softDollarTiers (int reqId | void | SoftDollarTier[] tiers) |
| familyCodes (FamilyCode[] familyCodes) | void | returns array of family codes More… |
| symbolSamples (int reqId | void | ContractDescription[] contractDescriptions) |
| mktDepthExchanges (DepthMktDataDescription[] depthMktDataDescriptions) | void | called when receives Depth Market Data Descriptions More… |
| tickNews (int tickerId | void | long timeStamp |
| smartComponents (int reqId | void | Dictionary< int |
| tickReqParams (int tickerId | void | double minTick |
| newsProviders (NewsProvider[] newsProviders) | void | returns array of subscribed API news providers for this user More… |
| newsArticle (int requestId | void | int articleType |
| historicalNews (int requestId | void | string time |
| historicalNewsEnd (int requestId | void | bool hasMore) |
| headTimestamp (int reqId | void | string headTimestamp) |
| None | returns beginning of data for contract for specified data type | None |
| None | More… | None |
| histogramData (int reqId | void | HistogramEntry[] data) |
| rerouteMktDataReq (int reqId | void | int conId |
| None | returns conId and exchange for CFD market data request re-route | None |
| None | More… | None |
| rerouteMktDepthReq (int reqId | void | int conId |
| marketRule (int marketRuleId | void | PriceIncrement[] priceIncrements) |
| pnl (int reqId | void | double dailyPnL |
| pnlSingle (int reqId | void | decimal pos |
| historicalTicks (int reqId | void | HistoricalTick[] ticks |
| historicalTicksBidAsk (int reqId | void | HistoricalTickBidAsk[] ticks |
| historicalTicksLast (int reqId | void | HistoricalTickLast[] ticks |
| tickByTickAllLast (int reqId | void | int tickType |
| tickByTickBidAsk (int reqId | void | long time |
| tickByTickMidPoint (int reqId | void | long time |
| orderBound (long orderId | void | int apiClientId |
| completedOrder (Contract contract | void | Order order |
| completedOrdersEnd () | void | Notifies the end of the completed orders’ reception. More… |
| replaceFAEnd (int reqId | void | string text) |
| wshMetaData (int reqId | void | string dataJson) |
| wshEventData (int reqId | void | string dataJson) |
| historicalSchedule (int reqId | void | string startDateTime |
| userInfo (int reqId | void | string whiteBrandingId) |

| Name | Type | Description |
| --- | --- | --- |
| error (Exception e) | void | Handles errors generated within the API itself. If an exception is thrown within the API code it will be notified here. Possible cases include errors while reading the information from the socket or even mishandling at EWrapper’s implementing class. More… |
| error (string str) | void | None |
| error (int id | void | int errorCode |
| currentTime (long time) | void | TWS’s current time. TWS is synchronized with the server (not local computer) using NTP and this function will receive the current time in TWS. More… |
| tickPrice (int tickerId | void | int field |
| tickSize (int tickerId | void | int field |
| tickString (int tickerId | void | int field |
| tickGeneric (int tickerId | void | int field |
| tickEFP (int tickerId | void | int tickType |
| deltaNeutralValidation (int reqId | void | DeltaNeutralContract deltaNeutralContract) |
| the server sends a deltaNeutralValidation() message with the DeltaNeutralContract structure. If the delta and price fields are empty in the original request | Upon accepting a Delta-Neutral DN RFQ(request for quote) | the confirmation will contain the current values from the server. These values are locked when RFQ is processed and remain locked until the RFQ is cancelled. |
| None | More… | None |
| tickOptionComputation (int tickerId | void | int field |
| tickSnapshotEnd (int tickerId) | void | When requesting market data snapshots |
| nextValidId (int orderId) | void | Receives next valid order id. Will be invoked automatically upon successfull API client connection |
| managedAccounts (string accountsList) | void | Receives a comma-separated string with the managed account ids. Occurs automatically on initial API client connection. More… |
| connectionClosed () | void | Callback to indicate the API connection has closed. Following a API TWS broken socket connection |
| accountSummary (int reqId | void | string account |
| accountSummaryEnd (int reqId) | void | notifies when all the accounts’ information has ben received. Requires TWS 967+ to receive accountSummaryEnd in linked account structures. More… |
| bondContractDetails (int reqId | void | ContractDetails contract) |
| updateAccountValue (string key | void | string value |
| updatePortfolio (Contract contract | void | decimal position |
| updateAccountTime (string timestamp) | void | Receives the last time on which the account was updated. More… |
| accountDownloadEnd (string account) | void | Notifies when all the account’s information has finished. More… |
| orderStatus (int orderId | void | string status |
| openOrder (int orderId | void | Contract contract |
| openOrderEnd () | void | Notifies the end of the open orders’ reception. More… |
| contractDetails (int reqId | void | ContractDetails contractDetails) |
| contractDetailsEnd (int reqId) | void | After all contracts matching the request were returned |
| execDetails (int reqId | void | Contract contract |
| execDetailsEnd (int reqId) | void | indicates the end of the Execution reception. More… |
| commissionReport (CommissionReport commissionReport) | void | provides the CommissionReport of an Execution More… |
| fundamentalData (int reqId | void | string data) |
| historicalData (int reqId | void | Bar bar) |
| historicalDataUpdate (int reqId | void | Bar bar) |
| historicalDataEnd (int reqId | void | string start |
| marketDataType (int reqId | void | int marketDataType) |
| updateMktDepth (int tickerId | void | int position |
| updateMktDepthL2 (int tickerId | void | int position |
| updateNewsBulletin (int msgId | void | int msgType |
| position (string account | void | Contract contract |
| positionEnd () | void | Indicates all the positions have been transmitted. More… |
| realtimeBar (int reqId | void | long date |
| scannerParameters (string xml) | void | provides the xml-formatted parameters available from TWS market scanners (not all available in API). More… |
| scannerData (int reqId | void | int rank |
| scannerDataEnd (int reqId) | void | Indicates the scanner data reception has terminated. More… |
| receiveFA (int faDataType | void | string faXmlData) |
| verifyMessageAPI (string apiData) | void | Not generally available. |
| verifyCompleted (bool isSuccessful | void | string errorText) |
| verifyAndAuthMessageAPI (string apiData | void | string xyzChallenge) |
| verifyAndAuthCompleted (bool isSuccessful | void | string errorText) |
| displayGroupList (int reqId | void | string groups) |
| displayGroupUpdated (int reqId | void | string contractInfo) |
| connectAck () | void | callback initially acknowledging connection attempt connection handshake not complete until nextValidID is received |
| positionMulti (int requestId | void | string account |
| positionMultiEnd (int requestId) | void | Indicates all the positions have been transmitted. More… |
| accountUpdateMulti (int requestId | void | string account |
| accountUpdateMultiEnd (int requestId) | void | Indicates all the account updates have been transmitted. More… |
| securityDefinitionOptionParameter (int reqId | void | string exchange |
| securityDefinitionOptionParameterEnd (int reqId) | void | called when all callbacks to securityDefinitionOptionParameter are complete More… |
| softDollarTiers (int reqId | void | SoftDollarTier[] tiers) |
| familyCodes (FamilyCode[] familyCodes) | void | returns array of family codes More… |
| symbolSamples (int reqId | void | ContractDescription[] contractDescriptions) |
| mktDepthExchanges (DepthMktDataDescription[] depthMktDataDescriptions) | void | called when receives Depth Market Data Descriptions More… |
| tickNews (int tickerId | void | long timeStamp |
| smartComponents (int reqId | void | Dictionary< int |
| tickReqParams (int tickerId | void | double minTick |
| newsProviders (NewsProvider[] newsProviders) | void | returns array of subscribed API news providers for this user More… |
| newsArticle (int requestId | void | int articleType |
| historicalNews (int requestId | void | string time |
| historicalNewsEnd (int requestId | void | bool hasMore) |
| headTimestamp (int reqId | void | string headTimestamp) |
| None | returns beginning of data for contract for specified data type | None |
| None | More… | None |
| histogramData (int reqId | void | HistogramEntry[] data) |
| rerouteMktDataReq (int reqId | void | int conId |
| None | returns conId and exchange for CFD market data request re-route | None |
| None | More… | None |
| rerouteMktDepthReq (int reqId | void | int conId |
| marketRule (int marketRuleId | void | PriceIncrement[] priceIncrements) |
| pnl (int reqId | void | double dailyPnL |
| pnlSingle (int reqId | void | decimal pos |
| historicalTicks (int reqId | void | HistoricalTick[] ticks |
| historicalTicksBidAsk (int reqId | void | HistoricalTickBidAsk[] ticks |
| historicalTicksLast (int reqId | void | HistoricalTickLast[] ticks |
| tickByTickAllLast (int reqId | void | int tickType |
| tickByTickBidAsk (int reqId | void | long time |
| tickByTickMidPoint (int reqId | void | long time |
| orderBound (long orderId | void | int apiClientId |
| completedOrder (Contract contract | void | Order order |
| completedOrdersEnd () | void | Notifies the end of the completed orders’ reception. More… |
| replaceFAEnd (int reqId | void | string text) |
| wshMetaData (int reqId | void | string dataJson) |
| wshEventData (int reqId | void | string dataJson) |
| historicalSchedule (int reqId | void | string startDateTime |
| userInfo (int reqId | void | string whiteBrandingId) |